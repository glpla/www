<html>
<head>
	<meta charset="utf-8">
	<title></title>
	<style type="text/css">
	*{
		margin: 0;
		padding: 0;
		list-style: none;
		text-decoration: none;
		font-family: "Hiragino Sans GB W3" "微软雅黑";
		/*default size*/
		font-size: 16px;
	}
	body{
		background: #ddd;
	}
	#box{
		width: 100px;
		height: 100px;
		position: absolute;
		top: 0px;
		left: 0px;
		background: #709;
		cursor: pointer;
	}
	#drag{
		width: 100px;
		height: 100px;
		position: absolute;
		top: 100px;
		left: 0px;
		background: #709;
		cursor: pointer;
	}	
	</style>
</head>
<body>
	<div id="box"></div>
	<div id="drag" draggable="true"></div>




	<script>
	var oBox=document.getElementById('box');
	var oDrag=document.getElementById('drag');
	var oBody=document.getElementsByTagName('body')[0];
	var x,
		y,
		offsetX,
		offsetY,
		bool;
	oBox.onmousedown=function(e){
		// 兼容IE的window.event.
		// 以下写法都可以
		// if(window.event)(e=window.event);
		var eDown=e||window.event;
		bool=true;
		x=eDown.clientX;
		y=eDown.clientY;
		offsetX=x-this.offsetLeft;
		offsetY=y-this.offsetTop;
	}
	oBody.onmousemove=function(e){
		if(bool){
			var eMove=e||window.event;
			oBox.style.left=eMove.clientX-offsetX+'px';
			oBox.style.top=eMove.clientY-offsetY+'px';
		}		
	}
	oBody.onmouseup=function(e){
		bool=false;
	}
	oDrag.ondragstart=function(){
		console.log('hi');
	}
	oDrag.ondrag=function(){
		console.log('hi...');
	}
	oDrag.ondop=function(){
		console.log('hi');
	}
	</script>
</body>
</html>